(this.webpackJsonperc721=this.webpackJsonperc721||[]).push([[0],{1001:function(e,t){},1018:function(e,t){},1019:function(e,t){},1021:function(e,t){},1022:function(e,t){},1082:function(e,t){},1084:function(e,t){},1094:function(e,t){},1096:function(e,t){},1121:function(e,t){},1123:function(e,t){},1129:function(e,t){},1130:function(e,t){},1132:function(e,t){},1144:function(e,t){},1147:function(e,t){},1152:function(e,t){},1163:function(e,t){},1166:function(e,t){},1218:function(e,t,a){},1219:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(35),r=a.n(c),i=(a(480),a(481),a(482),a(483),a(3)),s=a.n(i),o=a(89),m=a(13),u=a(14),h=a(21),d=a(20),p=a(80),f=a(48),b=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={web3:e.web3,account:e.account,ipfs:e.ipfs},n}return a}(n.Component),E=a(11);function g(e){var t=Object(f.f)();function a(){t.push(e.url)}return l.a.createElement(E.d,null,l.a.createElement(E.o,{to:"#",onClick:a,link:!0},l.a.createElement(E.f,{top:!0,src:e.image,overlay:"white-slight",hover:!0,alt:"MDBCard image cap"})),l.a.createElement(E.e,null,l.a.createElement(E.g,{className:"text-justify"},"Some quick example text to build on the card title and make up the bulk of the card's content."),l.a.createElement("div",{className:"text-center"},l.a.createElement(E.c,{color:"primary",onClick:a,outline:!0},e.action))))}var v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(E.i,{className:"my-5"},l.a.createElement(E.r,{center:!0},l.a.createElement(E.h,{sm:"4"},l.a.createElement(g,{action:"Create An ID",image:"assets/m1.jpeg",url:"/create"})),l.a.createElement(E.h,{sm:"4"},l.a.createElement(g,{action:"Find a pet",image:"assets/find-pet.jpg",url:"/find"}))),l.a.createElement(E.r,{center:!0,className:"mt-5"},l.a.createElement(E.h,{sm:"4"},l.a.createElement(g,{action:"List all Ids",image:"assets/m3.jpg",url:"/list"})),l.a.createElement(E.h,{sm:"4"},l.a.createElement(g,{action:"Change owner",image:"assets/m4.jpg",url:"/change"})))))}}]),a}(b),w=a(167),y=a(262),x=a(82),j=a(168),k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleSelectPetType=function(e){n.setState({pettype:e[0]})},n.handlePetBirthdate=function(e){n.setState({petbirthdate:e})},n.handleTerms=function(e){n.setState({terms:e})},n.handlePhotoChange=function(e){n.saveToIpfsWithFilename(e)},n.calculateAutofocus=function(e){if(n.state["formActivePanel"+e+"Changed"])return!0},n.state=Object(y.a)(Object(y.a)({},n.state),{},{formActivePanel1:1,formActivePanel1Changed:!1,firstname:null,lastname:null,email:null,petname:null,petcolor:null,pettype:null,petbirthdate:null,photo_hash:null,terms:!1}),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handlePetBirthdate=n.handlePetBirthdate.bind(Object(x.a)(n)),n.handleSelectPetType=n.handleSelectPetType.bind(Object(x.a)(n)),n.handlePhotoChange=n.handlePhotoChange.bind(Object(x.a)(n)),n.handleTerms=n.handleTerms.bind(Object(x.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){console.log(e.target.name),console.log(e.target.value),console.log(e.target),this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){console.log(this.state),alert("Form submitted!")}},{key:"saveToIpfsWithFilename",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={path:t.name,content:t,added_file_hash:null},e.next=4,this.state.ipfs.add(a);case 4:n=e.sent,this.setState({photo_hash:n.cid.toString()}),console.log(n.cid.toString()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(E.i,null,l.a.createElement("h2",{className:"indigo-text font-weight-bold mt-2 mb-5"},l.a.createElement(E.l,{far:!0,icon:"edit"})," Create an ID for your pet"),l.a.createElement("div",{className:"indigo-text"},l.a.createElement("h4",{className:"font-weight-bold grey-text"},l.a.createElement(E.l,{icon:"user"})," Some information about You"),l.a.createElement("div",{className:"px-4"},l.a.createElement("div",{className:"create-div"},l.a.createElement(E.n,{name:"firstname",onChange:this.handleChange,value:this.state.firstname,label:"Your firstname",icon:"user-edit",group:!0,type:"text",validate:!0,error:"wrong",success:"right"})),l.a.createElement("div",{className:"create-div"},l.a.createElement(E.n,{name:"lastname",onChange:this.handleChange,value:this.state.lastname,label:"Your lastname",icon:"user-edit",group:!0,type:"text",validate:!0,error:"wrong",success:"right"})),l.a.createElement("div",{className:"create-div"},l.a.createElement(E.n,{name:"email",onChange:this.handleChange,value:this.state.email,label:"Your email",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right"}))),l.a.createElement("h4",{className:"font-weight-bold mt-5 grey-text"},l.a.createElement(E.l,{icon:"paw"})," Information of your well loved pet"),l.a.createElement("div",{className:"px-4"},l.a.createElement("div",{className:"create-div"},l.a.createElement(E.n,{name:"petname",onChange:this.handleChange,value:this.state.petname,label:"Name",icon:"paw",group:!0,type:"text",validate:!0,error:"wrong",success:"right"})),l.a.createElement("div",{className:"create-div"},l.a.createElement(E.n,{name:"petcolor",onChange:this.handleChange,value:this.state.petcolor,label:"Color",icon:"paw",group:!0,type:"text",validate:!0,error:"wrong",success:"right"})),l.a.createElement(E.i,null,l.a.createElement(E.r,{middle:!0},l.a.createElement(E.h,{sm:"8"},l.a.createElement("div",{className:"create-div"},l.a.createElement(E.s,{label:"Kind of pet",getValue:this.handleSelectPetType},l.a.createElement(E.t,null),l.a.createElement(E.v,null,l.a.createElement(E.u,{disabled:!0},"Kind of your pet"),l.a.createElement(E.u,{selected:"cat"===this.state.pettype,value:"cat",icon:"assets/select-cat.jpg"},"Cat"),l.a.createElement(E.u,{selected:"dog"===this.state.pettype,value:"dog",icon:"assets/select-dog.jpg"},"Dog"),l.a.createElement(E.u,{selected:"rabbit"===this.state.pettype,value:"rabbit",icon:"assets/select-rabbit.jpg"},"Rabbit"),l.a.createElement(E.u,{selected:"bird"===this.state.pettype,value:"bird",icon:"assets/select-bird.jpg"},"Bird"))))),l.a.createElement(E.h,{sm:"4"},l.a.createElement("div",{className:"create-div text-center"},l.a.createElement(E.j,{valueDefault:null,emptyLabel:"Birthdate of your pet",value:this.state.petbirthdate,getValue:this.handlePetBirthdate})))))),l.a.createElement("h4",{className:"font-weight-bold mt-5 mb-3 grey-text"},l.a.createElement(E.l,{icon:"camera"})," Add a Photo of your pet"),l.a.createElement("div",{className:"px-4"},l.a.createElement(j.a,{getValue:this.handlePhotoChange,ref:function(t){return e.fileupload=t},maxFileSize:"1M",allowedFileExtensions:["jpg","png","bmp"],containerHeight:500,maxHeight:500,errorMaxHeight:"Your photo must not have more than 500 pixels height",errorFileSize:"The size of your photo is too big",errorFileExtension:"The type of your photo is not allowed"})),l.a.createElement("h4",{className:"font-weight-bold mt-5 grey-text"},l.a.createElement(E.l,{icon:"check"})," Registration completed!"),l.a.createElement("div",{className:"px-4"},l.a.createElement("p",{className:"font-weight-bold mt-3 mb-1"},l.a.createElement("strong",null,"Terms and conditions")),l.a.createElement(E.n,{name:"terms",value:this.state.firstname,getValue:this.handleTerms,label:"I agreee to the terms and conditions",type:"checkbox",id:"checkbox",autoFocus:this.calculateAutofocus(1)}),l.a.createElement(E.n,{label:"I want to receive newsletter",type:"checkbox",id:"checkbox2"}),l.a.createElement("div",{className:"text-right mt-2"},l.a.createElement(E.c,{outline:!0,color:"grey",onClick:this.handleSubmit},"cancel"),l.a.createElement(E.c,{outline:!0,color:"success",disabled:null===this.state.photo_hash||!1===this.state.terms,onClick:this.handleSubmit},"submit"))))))}}]),a}(b),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",null,"Find a Pet "),l.a.createElement("p",null,this.state.account))}}]),a}(b),C=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",null,"list"),l.a.createElement("p",null,this.state.account))}}]),a}(b),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",null,"Change owner"),l.a.createElement("p",null,this.state.account))}}]),a}(b),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",null,"404 page not found"))}}]),a}(n.Component),F=function(e){return l.a.createElement(E.i,null,l.a.createElement(E.r,null,l.a.createElement(E.h,{md:"4"},l.a.createElement("a",{href:"/"},l.a.createElement("img",{src:"assets/pets.png",className:"pt-2",alt:"logo",style:{width:"100%"}})),l.a.createElement(E.x,{domElement:!0,tag:"p",placement:"bottom"},l.a.createElement("p",{className:"text-center indigo-text align-middle p-1",style:{fontSize:"0.85em",borderStyle:"solid",borderWidth:"thin",borderColor:"#bdbdbd"}},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://goerli.etherscan.io/address/"+e.account}," ",l.a.createElement("img",{src:"assets/etherscan.png",alt:"etherscan",style:{width:"16px"}})," ",e.account)),l.a.createElement("span",null,"Balance: ",l.a.createElement("b",null,e.balance)," ether"))),l.a.createElement(E.h,{md:"8"},l.a.createElement("h2",{className:"h1 display-3 indigo-text"},"ID-Pet DAPPlication"),l.a.createElement("p",{className:"lead text-justify grey-text"},"This is a simple example of a decentralized application based on unique non-fungible tokens on the Ethereum ERC721 blockchain. Its main goal is to identify pets on the Ethereum blockchain."))),l.a.createElement(E.r,null,l.a.createElement(E.h,{md:"12"},l.a.createElement("hr",{className:"my-2"}))))},P=function(){return l.a.createElement(E.i,null,l.a.createElement(E.r,null,l.a.createElement(E.h,{md:"12"},l.a.createElement(E.k,{color:"mdb-color darken-3",className:"font-small pt-3 mt-5"},l.a.createElement(E.i,{fluid:!0,className:"text-center text-md-left"},l.a.createElement(E.r,null,l.a.createElement(E.h,{md:"8"},l.a.createElement("h5",{className:"title"},l.a.createElement(E.l,{icon:"paw"})," Decentralized Application"),l.a.createElement("hr",{className:"my-1",style:{color:"white",backgroundColor:"white"}}),l.a.createElement("p",{className:"text-justify",style:{color:"rgba(255,255,255,0.6)"}},"A decentralized application is a computer application that runs on a distributed computing system. DApps have been popularized by distributed ledger technologies (DLT) such as the Ethereum Blockchain, where DApps are often referred to as smart contracts.")),l.a.createElement(E.h,{md:"4",className:"text-center"},l.a.createElement("img",{src:"assets/pets.png",className:"pt-1",alt:"logo",style:{width:"80%"}})))),l.a.createElement("div",{className:"footer-copyright text-center py-2"},l.a.createElement(E.i,{fluid:!0},"\xa9 ",(new Date).getFullYear()," Copyright: ",l.a.createElement("a",{href:"https://www.mdbootstrap.com"}," Denis LAMARD ")))))))},D=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.title=this.props.name+" version "+this.props.version}},{key:"render",value:function(){return null}}]),a}(n.Component),T=a(169),A=a.n(T),B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleFileuploadChange=function(t){e.setState({selectedFile:t}),console.log(e.state),console.log(e.state.selectedFile.name),console.log(e.fileupload)},e.onSubmitHandler=function(t){t.preventDefault(),e.saveToIpfsWithFilename(e.state.selectedFile)},e.state={added_file_hash:null,selectedFile:null},e}return Object(u.a)(a,[{key:"saveToIpfsWithFilename",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()("https://ipfs.infura.io:5001/api/v0/");case 2:return a=e.sent,n={path:t.name,content:t,added_file_hash:null},e.prev=4,e.next=7,a.add(n);case 7:l=e.sent,this.setState({added_file_hash:l.cid.toString()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(E.i,null,l.a.createElement("p",null,this.state.added_file_hash),l.a.createElement("img",{src:"https://ipfs.io/ipfs/QmPAgyxAieuT8ZGFBMayskEEL4CGgyx8QsymGPrc2S1FVm"}),l.a.createElement("hr",null),l.a.createElement("form",null,l.a.createElement(j.a,{getValue:this.handleFileuploadChange,allowedFileExtensions:["jpg","png","bmp","jpeg"],containerHeight:500,maxFileSize:"5M",showSubmitButton:!0,onSubmitHandler:this.onSubmitHandler,ref:function(t){return e.fileupload=t}})))}}]),a}(n.Component),I=a(171),_=a.n(I),M=(a(1218),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={web3:null,account:null,ipfs:null},n}return Object(u.a)(a,[{key:"componentWillMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()("https://ipfs.infura.io:5001/api/v0/");case 2:return t=e.sent,e.next=5,new Promise((function(e,t){window.addEventListener("load",Object(o.a)(s.a.mark((function a(){var n,l,c,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=13;break}return n=new _.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:e(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),t(a.t0);case 11:a.next=14;break;case 13:window.web3?(l=window.web3,console.log("Injected web3 detected."),e(l)):(c=new _.a.providers.HttpProvider("http://127.0.0.1:8545"),r=new _.a(c),console.log("No web3 instance injected, using Local web3."),e(r));case 14:case"end":return a.stop()}}),a,null,[[2,8]])}))))}));case 5:return a=e.sent,e.next=8,a.eth.getAccounts();case 8:return n=e.sent,e.t0=this,e.t1=a,e.t2=n[0],e.t3=a.utils,e.next=15,a.eth.getBalance(n[0]);case 15:e.t4=e.sent,e.t5=e.t3.fromWei.call(e.t3,e.t4,"ether"),e.t6=t,e.t7={web3:e.t1,account:e.t2,balance:e.t5,ipfs:e.t6},e.t0.setState.call(e.t0,e.t7);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.web3?l.a.createElement(n.Fragment,null,l.a.createElement(D,{name:"PetID",version:"1.0.0"}),l.a.createElement(F,{account:this.state.account,balance:this.state.balance}),l.a.createElement(p.a,null,l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/",exact:!0},l.a.createElement(v,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"/create",exact:!0},l.a.createElement(k,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"/find",exact:!0},l.a.createElement(O,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"/list",exact:!0},l.a.createElement(C,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"/change",exact:!0},l.a.createElement(N,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"/test",exact:!0},l.a.createElement(B,{web3:this.state.web3,account:this.state.account,ipfs:this.state.ipfs})),l.a.createElement(f.a,{path:"*",component:S}))),l.a.createElement(P,null)):l.a.createElement(n.Fragment,null,l.a.createElement(D,{name:"PetID",version:"1.0.0"}),l.a.createElement(F,{account:"not available yet"}),l.a.createElement(E.i,{className:"mt-5"},l.a.createElement(E.r,{center:!0},l.a.createElement(E.h,{md:"4",className:"text-center"},l.a.createElement("img",{src:"assets/metamask.png",style:{width:"50%"},alt:"Metamask"})),l.a.createElement(E.h,{md:"6",className:"text-center"},l.a.createElement("h3",null,"Loading data from Metamask..."),l.a.createElement(E.w,{className:"mt-4",big:!0})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},475:function(e,t,a){e.exports=a(1219)},483:function(e,t,a){},699:function(e,t){},973:function(e,t){},980:function(e,t){},999:function(e,t){}},[[475,1,2]]]);
//# sourceMappingURL=main.9480b5d3.chunk.js.map